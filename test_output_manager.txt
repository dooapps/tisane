00:00 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:01 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:02 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:03 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:04 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:05 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:06 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:07 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:08 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:09 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:10 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:11 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:12 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:13 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:14 +0: loading /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart                                                                                                    00:14 +0: (setUpAll)                                                                                                                                                                                   00:15 +0: (setUpAll)                                                                                                                                                                                   00:15 +0: (setUpAll)                                                                                                                                                                                   
Loading local Infusion library from: /Volumes/Dev/Projects/FinbBerLink/packages/tisane/../infusion/target/release/libinfusion_ffi.dylib
00:15 +0: InfusionManager Integration seal and open work correctly                                                                                                                                     00:15 +0: InfusionManager Integration seal and open work correctly                                                                                                                                     
MockStorage Read: infusion_enc_key -> null
MockStorage Read: infusion_sign_seed -> null
MockStorage Write: infusion_enc_key -> 5db5085206732484070a04b17b81d596a6b126a4761937be541beb792d76c11c
MockStorage Write: infusion_sign_seed -> 5c8f08dc0ea513a20e7fba8e25ec0d1864b00cb5f0bf17cd0ebf20ef47c9b8e2
00:15 +1: InfusionManager Integration seal and open work correctly                                                                                                                                     00:15 +1: InfusionManager Integration deriveKey returns correct length                                                                                                                                 00:15 +1: InfusionManager Integration deriveKey returns correct length                                                                                                                                 
MockStorage Read: infusion_enc_key -> null
MockStorage Read: infusion_sign_seed -> null
MockStorage Write: infusion_enc_key -> 79655ea2c4dbfe65374763caca4dd45888c31fb05c1958c917cb30ef71aed5a5
MockStorage Write: infusion_sign_seed -> aa5a3f0a34c3b6d0adfe8e2c0dcdfb9504cce551829e1f1becf7d7466e5dad2f
00:15 +2: InfusionManager Integration deriveKey returns correct length                                                                                                                                 00:15 +2: InfusionManager Integration issueCap and verify flow                                                                                                                                         00:15 +2: InfusionManager Integration issueCap and verify flow                                                                                                                                         
MockStorage Write: infusion_enc_key -> f4e8bedec84dc5c4d27969b6d4b703e4f1553f9e39b2d030cb0a0033036adce9
MockStorage Write: infusion_sign_seed -> aa803d58bf8e3d5945764ff07eabce49fbedd38f7067a2482ccdac609d9d80b6
MockStorage Read: infusion_enc_key -> f4e8bedec84dc5c4d27969b6d4b703e4f1553f9e39b2d030cb0a0033036adce9
MockStorage Read: infusion_sign_seed -> aa803d58bf8e3d5945764ff07eabce49fbedd38f7067a2482ccdac609d9d80b6
Verification failed for cap: pmlzY29wZV9jaWSYIBizGJ0Y8RhlGCsY0RhzChhrGMMYIRg6GNcYmhisGM4YbBiFGBgQBxipGCAYwxioGCgYlRi6GMIYiBi9GEpmcmlnaHRzAWZleHBfdHMaaUSKUW1kZWxlZ2F0ZWRfcHVimCAY6RioGKoYhBj9GOsY3xioGPIYMhh+GLIY7BjCGGsMGMQYXxIY0hjYGH8YHxjCGJkYUhiJGEYYURgaGN8Yb2ppc3N1ZXJfcHVimCAYYBcYOhhVGEIYhRhaGOMYxxjFGFQY2RjMGIQYZhiTGFgYXRjCGGQY2hinGMMY/BjBGN4Ytxi/GGoYMRg7GNRjc2lnWEBFFvhT4+9M3BZbbgjJIVUjiPsrGrvmUYpXFlfRo5rMqeYr+AtNZ33atgdQOAL3CkPlPC1b+lqjyM1Y+h2SX0sI
00:15 +2 -1: InfusionManager Integration issueCap and verify flow [E]                                                                                                                                  
  Bad state: InvalidFrame("alg")
  package:infusion_ffi/src/infusion_native.dart 240:9  InfusionNative.verify
  

To run this test again: /Users/liv/fvm/versions/stable/bin/cache/dart-sdk/bin/dart test /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart -p vm --plain-name 'InfusionManager Integration issueCap and verify flow'
00:15 +2 -1: InfusionManager Integration getBlindIndex returns deterministic hash                                                                                                                      00:15 +2 -1: InfusionManager Integration getBlindIndex returns deterministic hash                                                                                                                      
MockStorage Read: infusion_enc_key -> null
MockStorage Read: infusion_sign_seed -> null
MockStorage Write: infusion_enc_key -> 51a765e24e842badd5840d2ef4c1a04fab77c55b9f83f5fdd9ea102bebc737a3
MockStorage Write: infusion_sign_seed -> 3a863b6262496066bd3de9bf2a39df91f73933f56e1fb6fce28cd3d8402aaa72
00:15 +3 -1: InfusionManager Integration getBlindIndex returns deterministic hash                                                                                                                      00:15 +3 -1: InfusionManager Integration getHiveKey returns valid key                                                                                                                                  00:15 +3 -1: InfusionManager Integration getHiveKey returns valid key                                                                                                                                  
MockStorage Read: infusion_enc_key -> null
MockStorage Read: infusion_sign_seed -> null
MockStorage Write: infusion_enc_key -> 87f1786a3a77eb604d6aa9dc2beed877a61319d80af76880043bc028148f631e
MockStorage Write: infusion_sign_seed -> 4374248ef890b3cec44bda80796b6bddaa68fdb1ed9adc6e1cea3b8d066dedc1
00:15 +4 -1: InfusionManager Integration getHiveKey returns valid key                                                                                                                                  00:15 +4 -1: InfusionManager Integration exportCredentials returns keys                                                                                                                                00:15 +4 -1: InfusionManager Integration exportCredentials returns keys                                                                                                                                
MockStorage Read: infusion_enc_key -> null
MockStorage Read: infusion_sign_seed -> null
MockStorage Write: infusion_enc_key -> 1669a7527e9774f1720038142254af269478ca0515cde0475d7b95672a075dcb
MockStorage Write: infusion_sign_seed -> 4edae35f2da3e9d5eb5a16fe0aa1da68316fccad6824fceed3c9180a326e7cc4
MockStorage Read: infusion_enc_key -> 1669a7527e9774f1720038142254af269478ca0515cde0475d7b95672a075dcb
MockStorage Read: infusion_sign_seed -> 4edae35f2da3e9d5eb5a16fe0aa1da68316fccad6824fceed3c9180a326e7cc4
00:15 +5 -1: InfusionManager Integration exportCredentials returns keys                                                                                                                                00:15 +5 -1: InfusionManager Integration seal encrypts with different policyId                                                                                                                         00:15 +5 -1: InfusionManager Integration seal encrypts with different policyId                                                                                                                         
MockStorage Read: infusion_enc_key -> null
MockStorage Read: infusion_sign_seed -> null
MockStorage Write: infusion_enc_key -> 4efed375f2a3d1f42d3517e9804b1bc21d390c0edb99eb0150437119cd5479d0
MockStorage Write: infusion_sign_seed -> 237b987b4bfbdb8d25c1132fc035c63d991f5270cc9725cd006931e114a746da
00:15 +6 -1: InfusionManager Integration seal encrypts with different policyId                                                                                                                         00:15 +6 -1: InfusionManager Integration issueCap handles custom rights and expiration                                                                                                                 00:15 +6 -1: InfusionManager Integration issueCap handles custom rights and expiration                                                                                                                 
MockStorage Read: infusion_enc_key -> null
MockStorage Read: infusion_sign_seed -> null
MockStorage Write: infusion_enc_key -> 9eb1b46406cef2890be32bf90627692fa5a70a90c1073b7e8f6933b7e84713f3
MockStorage Write: infusion_sign_seed -> 594f934ad72e8a843e0cf080af81880cac95c4833b5549ca5b94cd173f37ddcf
MockStorage Read: infusion_enc_key -> 9eb1b46406cef2890be32bf90627692fa5a70a90c1073b7e8f6933b7e84713f3
MockStorage Read: infusion_sign_seed -> 594f934ad72e8a843e0cf080af81880cac95c4833b5549ca5b94cd173f37ddcf
00:15 +6 -2: InfusionManager Integration issueCap handles custom rights and expiration [E]                                                                                                             
  Bad state: InvalidFrame("alg")
  package:infusion_ffi/src/infusion_native.dart 240:9  InfusionNative.verify
  

To run this test again: /Users/liv/fvm/versions/stable/bin/cache/dart-sdk/bin/dart test /Volumes/Dev/Projects/FinbBerLink/packages/tisane/test/infusion_manager_test.dart -p vm --plain-name 'InfusionManager Integration issueCap handles custom rights and expiration'
00:15 +6 -2: InfusionManager Integration deriveKey produces distinct keys for distinct contexts                                                                                                        00:15 +6 -2: InfusionManager Integration deriveKey produces distinct keys for distinct contexts                                                                                                        
MockStorage Read: infusion_enc_key -> null
MockStorage Read: infusion_sign_seed -> null
MockStorage Write: infusion_enc_key -> e02687f53e2cea53e9cc5861f277c1eacb27c6aab6ff3bf66a79cb0e451c477a
MockStorage Write: infusion_sign_seed -> 303ba8e8b9c7e931160e20ba329d6fc0e2364555f1e90cde082f3ced8a9bef09
00:15 +7 -2: InfusionManager Integration deriveKey produces distinct keys for distinct contexts                                                                                                        00:15 +7 -2: InfusionManager Integration Mnemonic flow (generate and restore)                                                                                                                          00:15 +7 -2: InfusionManager Integration Mnemonic flow (generate and restore)                                                                                                                          
MockStorage Write: infusion_enc_key -> 1a076124efad492d5a980de88f0c049f6766f714a1b6c914636fb07163ed615f
MockStorage Write: infusion_sign_seed -> 7e8bc9b3978ee416a3fe0008bbd154b0bcfd93256bd9aa569d4cd81ddf3e1add
MockStorage Read: infusion_enc_key -> 1a076124efad492d5a980de88f0c049f6766f714a1b6c914636fb07163ed615f
MockStorage Read: infusion_sign_seed -> 7e8bc9b3978ee416a3fe0008bbd154b0bcfd93256bd9aa569d4cd81ddf3e1add
MockStorage Read: infusion_enc_key -> 1a076124efad492d5a980de88f0c049f6766f714a1b6c914636fb07163ed615f
MockStorage Read: infusion_sign_seed -> 7e8bc9b3978ee416a3fe0008bbd154b0bcfd93256bd9aa569d4cd81ddf3e1add
00:15 +8 -2: InfusionManager Integration Mnemonic flow (generate and restore)                                                                                                                          00:15 +8 -2: (tearDownAll)                                                                                                                                                                             00:15 +8 -2: Some tests failed.                                                                                                                                                                        
